<section>
    <div class="header"><h2>Tree（自定义模板）</h2></div>
    <div class="body">
        <button thyButton="primary" (click)="addNode()">添加节点</button> <br />
        <thy-tree
            #tree
            [thyNodes]="treeNodes"
            [thyShowExpand]="isShowExpand"
            [thyDraggable]="true"
            (thyOnDraggableChange)="draggableNode($event)"
        >
            <ng-template #treeNodeTemplate let-node>
                <i
                    class="tree-node-icon"
                    [ngClass]="node.origin.icon"
                    [ngStyle]="node.origin.iconStyle"
                ></i>
                <ng-container *ngIf="!node.origin.edited">
                    <div class="thy-tree-node-title">{{ node.title }}</div>
                    <div class="thy-tree-node-actions">
                        <a
                            thyButtonIcon="wtf-edit-o"
                            thySize="sm"
                            href="javascript:;"
                            (click)="node.origin.edited = true"
                        ></a>
                        <a
                            thyButtonIcon="wtf-trash-o"
                            thySize="sm"
                            href="javascript:;"
                            (click)="deleteNode(node)"
                        ></a>
                    </div>
                </ng-container>
                <ng-container *ngIf="node.origin.edited">
                    <div class="tree-node-edit">
                        <input
                            #title
                            thyInput
                            thySize="sm"
                            thyAutofocus
                            (blur)="node.origin.edited = false"
                        />
                    </div>
                </ng-container>
            </ng-template>
            <ng-template #emptyChildrenTemplate>
                <div
                    style="width: 100%; height: 50px; padding:0 30px; background-color: #efefef;"
                >
                    拖拽元素区域
                </div>
            </ng-template>
        </thy-tree>
    </div>
</section>

<br />

<section>
    <div class="header"><h2>Tree （异步加载）</h2></div>
    <div class="body">
        <button thyButton="primary" (click)="addNode()">添加节点</button>
        <thy-tree
            [(ngModel)]="treeNodes"
            [thyShowExpand]="isShowExpand"
            [thyDraggable]="true"
            [thyAsync]="true"
            (thyOnExpandChange)="loadTreeNodes($event)"
            (thyOnDraggableChange)="draggableNode($event)"
        >
        </thy-tree>
    </div>
</section>

<br />


<api-parameters [parameters]="apiParameters"></api-parameters>
